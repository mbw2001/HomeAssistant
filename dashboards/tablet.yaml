kiosk_mode:
  user_settings:
    - users:
        - tablet
      hide_header: true
button_card_templates: !include buttons.yaml
title: Tablet
views:
  - icon: 'mdi:home'
    title: Home
    path: home
    badges: []
    cards:
      - type: 'custom:auto-reload-card'
        delay_in_minute: 15
      - type: vertical-stack
        cards:
          - type: weather-forecast
            entity: weather.home
          - type: horizontal-stack
            cards:
              - type: 'custom:button-card'
                entity: person.michael
                template: person
                variables:
                  wifi: sensor.samsungs20_wifi_forbindelse
                  battery: sensor.samsungs20_batteriniveau
              - type: 'custom:button-card'
                entity: person.camilla
                template: person
                variables:
                  wifi: sensor.camilla_phone_wifi_connection
                  battery: sensor.camilla_phone_battery_level
          - type: 'custom:button-card'
            entity: device_tracker.320i
            variables:
              remaining_fuel: sensor.320i_remaining_fuel
              remaining_range_fuel: sensor.320i_remaining_range_fuel
              remaining_fuel_percent: sensor.320i_remaining_fuel_percent
              lock: lock.320i_lock
            triggers_update: all
            aspect_ratio: 2/1
            show_name: false
            show_icon: false
            styles:
              grid:
                - grid-template-areas: '"tracker lock" "n n" "fuel fuel" "bottom bottom"'
                - grid-template-columns: 1fr 1fr
                - grid-template-rows: min-content auto min-content min-content
              card:
                - padding: 10px
                - background-size: cover
                - background-image: url(/local/bmw-header.png)
              custom_fields:
                tracker:
                  - justify-self: start
                lock:
                  - justify-self: end
                fuel:
                  - text-align: left
                  - margin-bottom: 10px
            custom_fields:
              tracker:
                card:
                  type: 'custom:button-card'
                  entity: '[[[ return entity.entity_id ]]]'
                  template: icon_btn_tracker
              lock:
                card:
                  type: 'custom:button-card'
                  entity: '[[[ return variables.lock ]]]'
                  template: icon_btn_small
                  styles:
                    icon:
                      - color: var(--paper-item-icon-color)
              fuel:
                card:
                  type: 'custom:bar-card'
                  entity: '[[[ return variables.remaining_fuel_percent ]]]'
                  entity_row: true
                  height: 15px
                  positions:
                    name: 'off'
                    icon: 'off'
                    indicator: 'off'
                    value: 'off'
                  severity:
                    - color: var(--label-badge-red)
                      from: 0
                      to: 15
                    - color: var(--label-badge-yellow)
                      from: 15
                      to: 30
                    - color: var(--paper-item-icon-color)
                      from: 30
                      to: 100
              bottom:
                card:
                  type: horizontal-stack
                  cards:
                    - type: 'custom:button-card'
                      entity: binary_sensor.320i_check_control_messages
                      template: icon_btn_flat
                    - type: 'custom:button-card'
                      entity: binary_sensor.320i_condition_based_services
                      template: icon_btn_flat
                    - type: 'custom:button-card'
                      entity: binary_sensor.320i_lights_parking
                      template: icon_btn_flat
                    - type: 'custom:button-card'
                      entity: binary_sensor.320i_windows
                      template: icon_btn_flat
                    - type: 'custom:button-card'
                      entity: binary_sensor.320i_lids
                      template: icon_btn_flat
                    - type: 'custom:button-card'
                      entity: lock.320i_lock
                      template: icon_btn_flat
      - type: vertical-stack
        cards:
          - type: grid
            columns: 3
            square: false
            cards:
              - type: 'custom:button-card'
                name: Entré
                entity: light.entre
                template: area_btn
                variables:
                  icon: 'mdi:door'
                  sensor: binary_sensor.hoveddoer
                  label_entity: sensor.entre_temperature
              - type: 'custom:button-card'
                name: Alrum
                entity: light.alrum
                template: area_btn
                variables:
                  icon: 'mdi:television'
                  sensor: binary_sensor.alrumdoer
                  label_entity: sensor.alrum_temperature
              - type: 'custom:button-card'
                name: Køkken
                entity: light.kokken
                template: area_btn
                variables:
                  icon: 'mdi:stove'
                  sensor: binary_sensor.koekkenvindue_hoejre
                  label_entity: sensor.alrum_temperature
              - type: 'custom:button-card'
                name: Stue
                entity: light.stue
                template: area_btn
                variables:
                  icon: 'mdi:sofa'
                  sensor: binary_sensor.stuedoer
                  label_entity: sensor.stue_temperature
              - type: 'custom:button-card'
                name: Bryggers
                entity: light.bryggers
                template: area_btn
                variables:
                  icon: 'mdi:washing-machine'
                  sensor: binary_sensor.bryggersdoer
                  label_entity: sensor.bryggers_temperature
              - type: 'custom:button-card'
                name: Soveværelse
                entity: light.sovevaerelse
                template: area_btn
                variables:
                  icon: 'mdi:bed'
                  sensor: binary_sensor.sovevaerelsevindue
                  label_entity: sensor.sovevaerelse_temperature
              - type: 'custom:button-card'
                name: Kontor
                entity: light.kontor
                template: area_btn
                variables:
                  icon: 'mdi:keyboard'
                  sensor: binary_sensor.kontorvindue
                  label_entity: sensor.kontor_temperature
              - type: 'custom:button-card'
                name: Gæsteværelse
                entity: light.gaestevaerelse
                template: area_btn
                variables:
                  icon: 'mdi:bunk-bed'
                  sensor: binary_sensor.gaestevaerelsevindue
                  label_entity: sensor.gaestevaerelse_temperature
              - type: 'custom:button-card'
                name: Udestue
                entity: light.udestue
                template: area_btn
                variables:
                  icon: 'mdi:weather-sunny'
                  sensor: binary_sensor.udestuedoer
                  label_entity: sensor.udestue_temperature
              - type: 'custom:button-card'
                name: Carport
                entity: light.carport
                template: area_btn
                variables:
                  icon: 'mdi:garage-open-variant'
                  sensor: binary_sensor.carport_sensor_occupancy
                  label_entity: sensor.carport_sensor_temperature
              - type: 'custom:button-card'
                name: Badeværelse
                entity: light.badevaerelse
                template: area_btn
                variables:
                  icon: 'mdi:shower-head'
                  sensor: binary_sensor.badevaerelsevindue
                  label_entity: sensor.badevaerelse_temperature
              - type: 'custom:button-card'
                name: Gæstetoilet
                entity: light.toilet
                template: area_btn
                variables:
                  icon: 'mdi:toilet'
                  label_entity: sensor.toilet_temperature
          - type: grid
            cards:
              - type: 'custom:button-card'
                name: Skur
                entity: sensor.skur_temperature
                template: area_btn_small
                variables:
                  icon: 'mdi:bike'
              - type: 'custom:button-card'
                name: Værksted
                entity: sensor.vaerksted_temperature
                template: area_btn_small
                variables:
                  icon: 'mdi:screw-flat-top'
            columns: 2
            square: false
          - type: 'custom:mini-graph-card'
            name: Kuldioxid
            icon: 'mdi:molecule-co2'
            color_thresholds:
              - color: '#44ba83'
                value: 400
              - color: '#E0A957'
                value: 1000
              - color: '#B54949'
                value: 1200
            entities:
              - entity: sensor.netatmo_alrum_co2
                name: Alrum
              - entity: sensor.netatmo_stue_co2
                name: Stue
              - entity: sensor.netatmo_sovevaerelse_co2
                name: Soveværelse
              - entity: sensor.netatmo_kontor_co2
                name: Kontor
            hour24: true
            line_width: 2
            show:
              state: false
              legend: true
      - type: vertical-stack
        cards:
          - type: 'custom:spotify-card'
            limit: 8
            playlist_type: default
            account: default
            always_play_random_song: true
            grid_covers_per_row: '4'
            display_style: grid
            hide_top_header: true
            spotify_entity: media_player.spotify_michael_winkel
            hide_currently_playing: true
            show_simple_config_editor: true
            hide_connect_devices: true
            default_device: Køkken Højtaler
          - type: 'custom:auto-entities'
            card:
              type: vertical-stack
            card_param: cards
            entities:
              - type: 'custom:mini-media-player'
                entity: media_player.spotify_michael_winkel
                name: Spotify
                hide:
                  icon: true
                  power: true
                  info: true
                  progress: true
                  controls: true
                  source: true
                shortcuts:
                  columns: 6
                  buttons:
                    - icon: 'mdi:stove'
                      type: service
                      id: spotcast.start
                      data:
                        entity_id: media_player.kokken_hojtaler
                        force_playback: true
                    - icon: 'mdi:bed'
                      type: service
                      id: spotcast.start
                      data:
                        entity_id: media_player.sovevaerelse_hojtaler
                        force_playback: true
                    - icon: 'mdi:weather-sunny'
                      type: service
                      id: spotcast.start
                      data:
                        entity_id: media_player.udestue_hojtaler
                        force_playback: true
                    - icon: 'mdi:keyboard-outline'
                      type: service
                      id: spotcast.start
                      data:
                        entity_id: media_player.kontor_display
                        force_playback: true
                    - icon: 'mdi:shower-head'
                      type: service
                      id: spotcast.start
                      data:
                        entity_id: media_player.badevaerelse_hojtaler
                        force_playback: true
            filter:
              include:
                - domain: media_player
                  not:
                    entity_id: media_player.spotify_*
                  options:
                    type: 'custom:mini-media-player'
                    artwork: cover
                    replace_mute: stop
                    source: icon
                    hide:
                      icon: true
                      progress: true
              exclude:
                - state: 'off'
                - state: unavailable
                - entity_id: media_player.alrum_kodi
                - entity_id: media_player.alrum_shield
                - entity_id: media_player.shield
                - entity_id: media_player.alrum_tv
                - entity_id: media_player.plex*
                  state: idle
                - entity_id: media_player.*plex
                  state: idle
            sort:
              method: entity_id
              reverse: false
            show_empty: false
          - type: 'custom:mini-graph-card'
            name: Luftfugtighed
            icon: 'mdi:water-percent'
            color_thresholds:
              - color: '#44ba83'
                value: 30
              - color: '#E0A957'
                value: 50
              - color: '#B54949'
                value: 70
            entities:
              - name: Bryggers
                entity: sensor.bryggers_humidity
              - name: Entre
                entity: sensor.entre_humidity
              - name: Alrum
                entity: sensor.netatmo_alrum_humidity
              - name: Stue
                entity: sensor.netatmo_stue_humidity
              - name: Soveværelse
                entity: sensor.netatmo_sovevaerelse_humidity
              - name: Kontor
                entity: sensor.netatmo_kontor_humidity
              - name: Gæsteværelse
                entity: sensor.gaestevaerelse_humidity
              - name: Badeværelse
                entity: sensor.badevaerelse_humidity
              - name: Toilet
                entity: sensor.toilet_humidity
              - name: Skur
                entity: sensor.skur_humidity
              - name: Værksted
                entity: sensor.vaerksted_humidity
            hour24: true
            line_width: 2
            show:
              state: false
