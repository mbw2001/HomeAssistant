  - platform: denonavr
    name: Living Room Amp
    host: 10.0.1.80
  - platform: cast
#  - platform: spotify
#    client_id: !secret spotify_client_id
#    client_secret: !secret spotify_client_secret
  - platform: plex
  - platform: kodi
    name: Living Room Kodi
    host: 10.0.1.10
    username: !secret kodi_username
    password: !secret kodi_password
  - platform: kodi
    name: Bedroom Kodi
    host: 10.0.1.11
    username: !secret kodi_username
    password: !secret kodi_password
    turn_on_action:
      service: media_player.kodi_call_method
      data:
        entity_id: media_player.bedroom_kodi
        method: Addons.ExecuteAddon
        addonid: script.json-cec
        params:
          command: activate
    turn_off_action:
    - service: media_player.media_stop
      data:
        entity_id: media_player.bedroom_kodi
    - service: media_player.kodi_call_method
      data:
        entity_id: media_player.bedroom_kodi
        method: Addons.ExecuteAddon
        addonid: script.json-cec
        params:
          command: standby
  - platform: universal
    name: Living Room Media
    children:
      - media_player.living_room_kodi
      - media_player.living_room_cast
      - media_player.living_room_speaker
      - media_player.all_speakers
    commands:
      turn_on:
        service: script.living_room_on
      turn_off:
        service: script.living_room_off
      select_source:
        service: media_player.select_source
        data_template:
          entity_id: media_player.living_room_amp
          source: '{{ source }}'
      volume_mute:
        service: media_player.volume_mute
        data_template:
          entity_id: media_player.living_room_amp
          is_volume_muted: '{{ not states.media_player.living_room_amp.attributes.is_volume_muted }}'
      volume_set:
        service: media_player.volume_set
        data_template:
          entity_id: media_player.living_room_amp
          volume_level: '{{ volume_level }}'
    attributes:
      is_volume_muted: media_player.living_room_amp|is_volume_muted
      volume_level: media_player.living_room_amp|volume_level
      source: media_player.living_room_amp|source
      source_list: media_player.living_room_amp|source_list
  - platform: universal
    name: Bedroom Media
    children:
      - media_player.bedroom_kodi
      - media_player.bedroom_cast
    commands:
      turn_on:
        service: media_player.turn_on
        data:
          entity_id: media_player.bedroom_kodi
      turn_off:
        service: media_player.turn_off
        data:
          entity_id: media_player.bedroom_kodi
  - platform: universal
    name: Kitchen Media
    children:
      - media_player.kitchen_speaker
      - media_player.all_speakers
